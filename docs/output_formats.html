
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Output Formats &#8212; libcester  documentation</title>
    <link rel="stylesheet" href="../_static/css/milkiish.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/libcester.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../_static/libcester.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Helper Macros" href="macros.html" />
    <link rel="prev" title="Testing for failures" href="test_for_failure.html" />
   
  
  
    <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />
  
    
    <meta name="description" content="libcester is a header only automated testing framework for the C programming language, it requires no dependency and can be downloaded and used in a project immediately.">
    <meta name="keywords" content="thecarisma, c, cpp, c++, unit testing, framework, exoticlibraries, exotic, libraries, regression, test">
    <meta name="author" content="Adewale Azeez">
    <meta property="og:url" content="https://exoticlibraries.github.io/libcester/docs/output_formats.html" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="A robust header only unit testing framework for C programming language." />
    <meta property="og:description" content="libcester is a header only automated testing framework for the C programming language, it requires no dependency and can be downloaded and used in a project immediately." />
    <meta property="og:image" content="https://raw.githubusercontent.com/exoticlibraries/libcester/main/docs/libcester.png" />
    
  
  
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@exoticlibs" />
    <meta name="twitter:creator" content="@iamthecarisma" />
    <meta name="twitter:title" content="A robust header only unit testing framework for C programming language." />
    <meta name="twitter:description" content="libcester is a header only automated testing framework for the C programming language, it requires no dependency and can be downloaded and used in a project immediately." />
    <meta name="twitter:image" content="https://raw.githubusercontent.com/exoticlibraries/libcester/main/docs/libcester.png" />
    
  

  </head><body>

    <div class="document">
    <header>
        <div class="topnavbar">
            
                <img class="icon" src="../_static/libcester.png"></img>
            
            <a href="../index.html" class="title">libcester</a> <!-- class="active" -->
            
                
                    <a href="index.html">Doc</a>
                
            
                
                    <a href="../reference/index.html">Reference</a>
                
            
                
                    <a href="https://github.com/exoticlibraries/libcester/">Contribute</a> 
                
            
                
                    <a href="https://exoticlibraries.github.io/">Exotic Libraries</a> 
                
            
                
                    <a href="https://exoticlibraries.github.io/pages/support.html">Support</a> 
                
            
            <div class="search-container">
                <form class="search" action="../search.html" method="get">
                    <button type="submit"><i class="fa fa-search"></i></button>
                    <input type="text" placeholder="" name="q">
                </form>
            </div>
        </div>
    </header>
    <div class="documentwrapper">
        
            
                
                <div class="sidebar-left">
                    </br>
                    <p class="caption"><span class="caption-text">Main</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../download.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../screenshots.html">Screenshots</a></li>
</ul>
<p class="caption"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="assertions.html">Assertion Macros</a></li>
<li class="toctree-l1"><a class="reference internal" href="fixtures.html">Test Fixtures</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="known_issues.html">Known Unfixed Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="macros.html">Helper Macros</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual_test_registration.html">Manual Tests Registration</a></li>
<li class="toctree-l1"><a class="reference internal" href="mocking.html">Mocking</a></li>
<li class="toctree-l1"><a class="reference internal" href="options.html">Cester Options</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Output Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="selective_compilation.html">Selective Modular Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="test_for_failure.html">Testing for failures</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing_stream.html">Testing Output Streams</a></li>
</ul>
<p class="caption"><span class="caption-text">How it works</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../how_it_works/how_assertion_macro.html">How the assertion macros works</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_it_works/how_mocking.html">How the mocking works</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_it_works/how_stream_capture_works.html">How the stream capture is implemented</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_it_works/how_test_registration_works.html">How test registration works</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_it_works/index.html">How it works</a></li>
</ul>

                </div>
                
            
        
        <div class="bodywrapper">
                
  <div class="section" id="output-formats">
<span id="index-0"></span><h1>Output Formats<a class="headerlink" href="#output-formats" title="Permalink to this headline">¶</a></h1>
<p>The option <cite>–cester-output=</cite> is used to specify which format to print the output, the value
after = must be a valid output format in cester. The following output format are currently
supported.</p>
<ul class="simple">
<li><p><a class="reference internal" href="#text">Text</a></p></li>
<li><p><a class="reference internal" href="#junitxml">JunitXML</a></p></li>
<li><p><a class="reference internal" href="#tap">Tap</a></p></li>
<li><p><a class="reference internal" href="#tap-version-13">Tap Version 13</a></p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If the output of the tests is directed to a file on a unix, linux variant OS the color
bytes will be written into the file along with the test outputs. Use the flag
<strong>–cester-nocolor</strong> to disable colored output. Colored output can also be disabled from
within the source using the macro <strong>CESTER_NOCOLOR()</strong>.</p>
</div>
<p>Various output format can be generated for the snippet below.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">//test.c</span>
<span class="cp">#include</span> <span class="cpf">&lt;exotic/cester.h&gt;</span><span class="cp"></span>

<span class="n">CESTER_TEST</span><span class="p">(</span><span class="n">test_assert_equal</span><span class="p">,</span> <span class="n">inst</span><span class="p">,</span>
        <span class="n">cester_assert_equal</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="p">((</span><span class="kt">void</span><span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">));</span>
<span class="p">)</span>

<span class="n">CESTER_TEST</span><span class="p">(</span><span class="n">test_assert_fail</span><span class="p">,</span> <span class="n">inst</span><span class="p">,</span>
        <span class="n">cester_assert_not_equal</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="p">((</span><span class="kt">void</span><span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">));</span>
<span class="p">)</span>

<span class="n">CESTER_TEST</span><span class="p">(</span><span class="n">segfault_test</span><span class="p">,</span> <span class="n">inst</span><span class="p">,</span>
        <span class="kt">int</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
        <span class="o">*</span><span class="n">p</span><span class="o">=</span><span class="mh">0xdead</span><span class="p">;</span>
<span class="p">)</span>

<span class="n">CESTER_TODO_TEST</span><span class="p">(</span><span class="n">to_do_later</span><span class="p">,</span> <span class="n">inst</span><span class="p">,</span>

<span class="p">)</span>

<span class="n">CESTER_SKIP_TEST</span><span class="p">(</span><span class="n">skip_this_test</span><span class="p">,</span> <span class="n">inst</span><span class="p">,</span>
        <span class="kt">int</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
        <span class="o">*</span><span class="n">p</span><span class="o">=</span><span class="mh">0xdead</span><span class="p">;</span>
<span class="p">)</span>

<span class="n">CESTER_TEST</span><span class="p">(</span><span class="n">test_assert_not_equal</span><span class="p">,</span> <span class="n">inst</span><span class="p">,</span>
        <span class="n">cester_assert_not_equal</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="s">&quot;NotEqual&quot;</span><span class="p">);</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Compile the test with the command below:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gcc test.c -I. -o <span class="nb">test</span>
</pre></div>
</div>
<p>Instead of printing to the terminal the output can be redirected to a file using the redirection
character <strong>&gt;</strong> or changing the output stream using the macro CESTER_CHANGE_STREAM before the
test cases start running. E.g.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">//...</span>
<span class="n">CESTER_BEFORE_ALL</span><span class="p">(</span><span class="n">inst</span><span class="p">,</span>
        <span class="kt">FILE</span><span class="o">*</span> <span class="n">output</span> <span class="o">=</span> <span class="n">fopen</span><span class="p">(</span><span class="s">&quot;./result.txt&quot;</span><span class="p">,</span> <span class="s">&quot;w+&quot;</span><span class="p">);</span>
        <span class="n">CESTER_CHANGE_STREAM</span><span class="p">(</span><span class="n">output</span><span class="p">);</span>
<span class="p">)</span>
<span class="c1">//...</span>
</pre></div>
</div>
<div class="section" id="text">
<h2>Text<a class="headerlink" href="#text" title="Permalink to this headline">¶</a></h2>
<p>By default plain text format is generated but with colorful output, the command line option
<cite>–cester-nocolor</cite> is used to disable colored output. The option <strong>–cester-ouput=text</strong> can
also be specified to print output as text. This can be set in the code before the test cases start
running with CESTER_OUTPUT_TEXT();</p>
<p>To generate a text output for the snippet above</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./test --cester-verbose --cester-minimal --cester-output=text

+ (0.01s) test assert equal
- (0.01s) test assert fail
- (0.00s) segfault test
o (0.00s) to do later TODO
o (0.00s) skip this test SKIP
+ (0.00s) test assert not equal

Passed crash_test.c:6: in &#39;test_assert_equal&#39; =&gt; expected &#39;NULL&#39;, received &#39;((void*)0)&#39;
AssertionError crash_test.c:10: in &#39;test_assert_fail&#39; =&gt; not expecting &#39;NULL&#39;, received &#39;((void*)0)&#39;
SegfaultError crash_test.c:13: Segmentation fault in &#39;segfault_test&#39;
Passed crash_test.c:28: in &#39;test_assert_not_equal&#39; =&gt; not expecting &#39;NULL&#39;, received &#39;&quot;NotEqual&quot;&#39;

Ran 6 test(s) in 0.02 Seconds
Synthesis: FAILURE Tests: 6 | Passing: 2 | Failing: 2 | Skipped: 1 | Todo: 1
</pre></div>
</div>
</div>
<div class="section" id="junitxml">
<h2>JUnitXML<a class="headerlink" href="#junitxml" title="Permalink to this headline">¶</a></h2>
<p>The project can also generate the test report in a valid JunitXML format. The file is considered
the test suite and each test case the xml test cases. The generated JunitXML is compatible with
Jenkins and hudson, a sample trend graph and stacktrace generated from jenkins can be seen in
the <a class="reference external" href="../screenshots.html">screenshots</a> section.</p>
<p>The option <strong>–cester-output=junitxml</strong> generates the output as JunitXML. The generated output
can be validated with the npm package <a class="reference external" href="https://www.npmjs.com/package/verify-junit-xml">verify-junit-xml</a>. This can be set in the code before
the test cases start running with CESTER_OUTPUT_JUNITXML();</p>
<p>To generate a JunitXML output for the snippet above</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./test --cester-verbose --cester-minimal --cester-output=junitxml

&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;testsuite tests=&quot;6&quot; failures=&quot;2&quot; name=&quot;crash_test&quot; errors=&quot;0&quot; skipped=&quot;2&quot; time=&quot;0.02&quot;&gt;
        &lt;testcase classname=&quot;crash_test&quot; name=&quot;test_assert_equal&quot; time=&quot;0.00&quot;/&gt;
        &lt;testcase classname=&quot;crash_test&quot; name=&quot;test_assert_fail&quot; time=&quot;0.00&quot;&gt;
                &lt;failure message=&quot;the test case failed&quot; type=&quot;TestFailed&quot;&gt;AssertionError crash_test.c:10: in &#39;test_assert_fail&#39; =&gt; not expecting &#39;NULL&#39;, received &#39;((void*)0)&#39;
                &lt;/failure&gt;
        &lt;/testcase&gt;
        &lt;testcase classname=&quot;crash_test&quot; name=&quot;segfault_test&quot; time=&quot;0.01&quot;&gt;
                &lt;failure message=&quot;the test case crashed&quot; type=&quot;SegmentationFault&quot;&gt;SegfaultError crash_test.c:13: Segmentation fault in &#39;segfault_test&#39;
                &lt;/failure&gt;
        &lt;/testcase&gt;
        &lt;testcase classname=&quot;crash_test&quot; name=&quot;test_assert_not_equal&quot; time=&quot;0.01&quot;/&gt;
&lt;/testsuite&gt;
</pre></div>
</div>
</div>
<div class="section" id="tap">
<h2>TAP<a class="headerlink" href="#tap" title="Permalink to this headline">¶</a></h2>
<p>The Test Anything Protocol (TAP) is Perl’s simple text-based interface between testing modules.
Cester support the TAP output format using the commandline option <strong>–cester-output=tap</strong>.
See the specification for TAP at <a class="reference external" href="https://testanything.org/tap-specification.html">tap-spec</a>.</p>
<p>To generate a TAP output for the snippet above. This can be set in the code before the test cases
start running with CESTER_OUTPUT_TAP();</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./test --cester-verbose --cester-minimal --cester-output=tap

1..6
ok 1 - test assert equal, Passed
# Passed crash_test.c:6: in &#39;test_assert_equal&#39; =&gt; expected &#39;NULL&#39;, received &#39;((void*)0)&#39;
not ok 2 - test assert fail, Failed
# AssertionError crash_test.c:10: in &#39;test_assert_fail&#39; =&gt; not expecting &#39;NULL&#39;, received &#39;((void*)0)&#39;
not ok 3 - segfault test, Failed: Segmentation fault
ok 4 - # TODO to do later,
ok 5 - # SKIP skip this test,
ok 6 - test assert not equal, Passed
# Passed crash_test.c:28: in &#39;test_assert_not_equal&#39; =&gt; not expecting &#39;NULL&#39;, received &#39;&quot;NotEqual&quot;&#39;
# Failed 2 of 6 tests
# Time 0.02 Seconds
</pre></div>
</div>
</div>
<div class="section" id="tap-version-13">
<h2>TAP Version 13<a class="headerlink" href="#tap-version-13" title="Permalink to this headline">¶</a></h2>
<p>The Test Anything Protocol (TAP) Version 13 is an extended version of the Test Anything Protocol
it allow detail information to be attached to the output in the form of YAML block. The option
<strong>–cester-output=tapV13</strong> prints the test result in TAP Version 13 format.
See the specification for TAP at <a class="reference external" href="https://testanything.org/tap-version-13-specification.html">tap-13-spec</a>.</p>
<p>To generate a TAP Version 13 output for the snippet above. This can be set in the code before the test cases
start running with CESTER_OUTPUT_TAPV13();</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>./test --cester-verbose --cester-minimal --cester-output=tapV13

TAP version 13
1..6
ok 1 - test assert equal
not ok 2 - test assert fail
---
at:
        file: crash_test.c
        test_case: test_assert_fail
        line: 9
        column: 1
outputs:
        - AssertionError crash_test.c:10: in &#39;test_assert_fail&#39; =&gt; not expecting &#39;NULL&#39;, received &#39;((void*)0)&#39;
message: test assert fail failed
time: 0.00
...
not ok 3 - segfault test
---
at:
        file: crash_test.c
        test_case: segfault_test
        line: 13
        column: 1
outputs:
message: segfault test failed: Segmentation fault
time: 0.00
...
ok 4 - # TODO to do later
ok 5 - # SKIP skip this test
ok 6 - test assert not equal
# Failed 2 of 6 tests
# Time 0.02 Seconds
</pre></div>
</div>
</div>
</div>


                
                </br>
                 
                    
                        <div class="navigation">
                            
                                <a class="reference navigator" style="float:left;" href="https://github.com/exoticlibraries/libcester/edit/main/docs/docs/output_formats.rst"><i class="fa fa-pen"></i>Edit this page</a>    
                            
                            <a class="reference navigator" style="float:left;" href="../genindex.html"><i class="fa fa-book"></i>Index</a>
                            
                            
                                <a class="reference navigator" style="float:right;" href="macros.html">Helper Macros<i class="fa fa-arrow-right"></i></a> 
                            
                            
                                <a class="reference navigator" style="float:right;" href="test_for_failure.html"><i class="fa fa-arrow-left"></i>Testing for failures</a>
                            
                        </div>
                    
                
        </div>
        
            
                
                <div class="sidebar-right">
                    
                        <h2>Page Contents</h2>
                        <ul>
<li><a class="reference internal" href="#">Output Formats</a><ul>
<li><a class="reference internal" href="#text">Text</a></li>
<li><a class="reference internal" href="#junitxml">JUnitXML</a></li>
<li><a class="reference internal" href="#tap">TAP</a></li>
<li><a class="reference internal" href="#tap-version-13">TAP Version 13</a></li>
</ul>
</li>
</ul>

                        
                            <h2>Previous topic</h2>
                            <a href="test_for_failure.html">Testing for failures</a>
                        
                        
                            <h2>Next topic</h2>
                            <a href="macros.html">Helper Macros</a>
                        
                        <h2>This Page</h2>
                        <a href="../_sources/docs/output_formats.rst.txt">Show source</a>
                        
                            <br/><a style="line-height: 25px;" href="https://github.com/exoticlibraries/libcester/edit/main/docs/docs/output_formats.rst">Edit this page</a>
                        
                    
                </div>
                
            
        
        <div style="clear:both"></div>
    </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
        <div class="social">
            
                <a href="https://twitter.com/exoticlibs"><i class="fab fa-twitter"></i></a>
            
                <a href="https://github.com/exoticlibraries/libcester/"><i class="fab fa-github"></i></a>
            
        </div>
        <div class="footer-col1">
            
        </div>
        
        
        <div class="doc-sphinx-info">
                    &copy; Copyright 2021, Exotic Libraries - MIT License.
                Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 3.2.1
                with <a href="https://thecarisma.github.io/themata/milkish/index.html">milkish</a> theme.
        </div>
    </div>
    

  </body>
</html>