
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Known Unfixed Issues &#8212; libcester  documentation</title>
    <link rel="stylesheet" href="../_static/css/milkiish.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/css/libcester.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../_static/libcester.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="How the assertion macros works" href="../how_it_works/how_assertion_macro.html" />
    <link rel="prev" title="Selective Modular Features" href="selective_compilation.html" />
   
  
  
    <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />
  
    
    <meta name="description" content="libcester is a header only automated testing framework for the C programming language, it requires no dependency and can be downloaded and used in a project immediately.">
    <meta name="keywords" content="thecarisma, c, cpp, c++, unit testing, framework, exoticlibraries, exotic, libraries, regression, test">
    <meta name="author" content="Adewale Azeez">
    <meta property="og:url" content="https://exoticlibraries.github.io/libcester/docs/known_issues.html" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="A robust header only unit testing framework for C programming language." />
    <meta property="og:description" content="libcester is a header only automated testing framework for the C programming language, it requires no dependency and can be downloaded and used in a project immediately." />
    <meta property="og:image" content="https://raw.githubusercontent.com/exoticlibraries/libcester/main/docs/libcester.png" />
    
  
  
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@exoticlibs" />
    <meta name="twitter:creator" content="@iamthecarisma" />
    <meta name="twitter:title" content="A robust header only unit testing framework for C programming language." />
    <meta name="twitter:description" content="libcester is a header only automated testing framework for the C programming language, it requires no dependency and can be downloaded and used in a project immediately." />
    <meta name="twitter:image" content="https://raw.githubusercontent.com/exoticlibraries/libcester/main/docs/libcester.png" />
    
  

  </head><body>

    <div class="document">
    <header>
        <div class="topnavbar">
            
                <img class="icon" src="../_static/libcester.png"></img>
            
            <a href="../index.html" class="title">libcester</a> <!-- class="active" -->
            
                
                    <a href="index.html">Doc</a>
                
            
                
                    <a href="../reference/index.html">Reference</a>
                
            
                
                    <a href="https://github.com/exoticlibraries/libcester/">Contribute</a> 
                
            
                
                    <a href="https://exoticlibraries.github.io/">Exotic Libraries</a> 
                
            
                
                    <a href="https://exoticlibraries.github.io/pages/support.html">Support</a> 
                
            
            <div class="search-container">
                <form class="search" action="../search.html" method="get">
                    <button type="submit"><i class="fa fa-search"></i></button>
                    <input type="text" placeholder="" name="q">
                </form>
            </div>
        </div>
    </header>
    <div class="documentwrapper">
        
            
                
                <div class="sidebar-left">
                    </br>
                    <p class="caption"><span class="caption-text">Main</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../download.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../screenshots.html">Screenshots</a></li>
</ul>
<p class="caption"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="assertions.html">Assertion Macros</a></li>
<li class="toctree-l1"><a class="reference internal" href="fixtures.html">Test Fixtures</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">Documentation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Known Unfixed Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="macros.html">Helper Macros</a></li>
<li class="toctree-l1"><a class="reference internal" href="manual_test_registration.html">Manual Tests Registration</a></li>
<li class="toctree-l1"><a class="reference internal" href="mocking.html">Mocking</a></li>
<li class="toctree-l1"><a class="reference internal" href="options.html">Cester Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="output_formats.html">Output Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="selective_compilation.html">Selective Modular Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="test_for_failure.html">Testing for failures</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing_stream.html">Testing Output Streams</a></li>
</ul>
<p class="caption"><span class="caption-text">How it works</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../how_it_works/how_assertion_macro.html">How the assertion macros works</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_it_works/how_mocking.html">How the mocking works</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_it_works/how_stream_capture_works.html">How the stream capture is implemented</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_it_works/how_test_registration_works.html">How test registration works</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how_it_works/index.html">How it works</a></li>
</ul>

                </div>
                
            
        
        <div class="bodywrapper">
                
  <div class="section" id="known-unfixed-issues">
<span id="index-0"></span><h1>Known Unfixed Issues<a class="headerlink" href="#known-unfixed-issues" title="Permalink to this headline">¶</a></h1>
<p>There are some issues detected that cannot or has not not been fixed in the framework, and some
features that is close to impossible to implements, these two group of farts are highlighted here:</p>
<div class="section" id="c-dynamic-deallocation">
<h2>C++ Dynamic Deallocation<a class="headerlink" href="#c-dynamic-deallocation" title="Permalink to this headline">¶</a></h2>
<p>In C++ it impossible to use the shared test instance variable to share objects that are automatically
deallocated when they fall out of scope. For example if a <strong>std::vector</strong> object is to be used to
share data across multiple test case and the data is added to the vector object in one of the
fixture function (CESTER_BEFORE_ALL, CESTER_BEFORE_EACH), all the test cases relying on the data
will fail as the vector object will call it deallocator at the end of the fixture function, hence
it will be null in all the test cases.</p>
<p>The solution in this case is to use the global scope for such object and not the <cite>shared_instance-&gt;arg</cite>
variable, the <cite>shared_instance-&gt;ar</cite> will work fine for dynamically allocated objects.</p>
<p>Instead of</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">//...</span>
<span class="n">CESTER_BEFORE_ALL</span><span class="p">(</span><span class="n">inst</span><span class="p">,</span>
        <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">setup</span><span class="p">;</span>
        <span class="n">inst</span><span class="o">-&gt;</span><span class="n">arg</span> <span class="o">=</span> <span class="o">&amp;</span> <span class="n">setup</span><span class="p">;</span>
<span class="p">)</span>

<span class="n">CESTER_TEST</span><span class="p">(</span><span class="n">vector_push_back</span><span class="p">,</span> <span class="n">inst</span><span class="p">,</span> <span class="p">{</span>
        <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">setup</span> <span class="o">=</span> <span class="o">*</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">*</span><span class="p">)(</span><span class="n">inst</span><span class="o">-&gt;</span><span class="n">arg</span><span class="p">);</span>
        <span class="n">setup</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<span class="p">})</span>
<span class="c1">//...</span>
</pre></div>
</div>
<p>Define in global scope instead</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">//...</span>
<span class="n">CESTER_BODY</span><span class="p">(</span>
        <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">setup</span><span class="p">;</span>
<span class="p">)</span>

<span class="n">CESTER_TEST</span><span class="p">(</span><span class="n">vector_push_back</span><span class="p">,</span> <span class="n">inst</span><span class="p">,</span> <span class="p">{</span>
        <span class="n">setup</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>
<span class="p">})</span>
<span class="c1">//...</span>
</pre></div>
</div>
<p>This isssue was reported <a class="reference external" href="https://github.com/MarcelInTO">MarcelInTO</a> in issue
<a class="reference external" href="https://github.com/exoticlibraries/libcester/issues/50">50</a>.</p>
</div>
</div>


                
                </br>
                 
                    
                        <div class="navigation">
                            
                                <a class="reference navigator" style="float:left;" href="https://github.com/exoticlibraries/libcester/edit/main/docs/docs/known_issues.rst"><i class="fa fa-pen"></i>Edit this page</a>    
                            
                            <a class="reference navigator" style="float:left;" href="../genindex.html"><i class="fa fa-book"></i>Index</a>
                            
                            
                                <a class="reference navigator" style="float:right;" href="../how_it_works/how_assertion_macro.html">How the assertion macros works<i class="fa fa-arrow-right"></i></a> 
                            
                            
                                <a class="reference navigator" style="float:right;" href="selective_compilation.html"><i class="fa fa-arrow-left"></i>Selective Modular Features</a>
                            
                        </div>
                    
                
        </div>
        
            
                
                <div class="sidebar-right">
                    
                        <h2>Page Contents</h2>
                        <ul>
<li><a class="reference internal" href="#">Known Unfixed Issues</a><ul>
<li><a class="reference internal" href="#c-dynamic-deallocation">C++ Dynamic Deallocation</a></li>
</ul>
</li>
</ul>

                        
                            <h2>Previous topic</h2>
                            <a href="selective_compilation.html">Selective Modular Features</a>
                        
                        
                            <h2>Next topic</h2>
                            <a href="../how_it_works/how_assertion_macro.html">How the assertion macros works</a>
                        
                        <h2>This Page</h2>
                        <a href="../_sources/docs/known_issues.rst.txt">Show source</a>
                        
                            <br/><a style="line-height: 25px;" href="https://github.com/exoticlibraries/libcester/edit/main/docs/docs/known_issues.rst">Edit this page</a>
                        
                    
                </div>
                
            
        
        <div style="clear:both"></div>
    </div>
      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
        <div class="social">
            
                <a href="https://twitter.com/exoticlibs"><i class="fab fa-twitter"></i></a>
            
                <a href="https://github.com/exoticlibraries/libcester/"><i class="fab fa-github"></i></a>
            
        </div>
        <div class="footer-col1">
            
        </div>
        
        
        <div class="doc-sphinx-info">
                    &copy; Copyright 2021, Exotic Libraries - MIT License.
                Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 3.2.1
                with <a href="https://thecarisma.github.io/themata/milkish/index.html">milkish</a> theme.
        </div>
    </div>
    

  </body>
</html>